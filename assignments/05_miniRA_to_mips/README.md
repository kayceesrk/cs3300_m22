---
layout: page
title: Assignment 05 - miniRA to MIPS
permalink: /assignments/miniRA_to_mips
---

| Release Date | 25/10/2022 |
| Deadline     | 06/11/2022, 23:59 hours |

<br/>

This assignment is the last part of a multi part project to 
write an optimizing compiler for Minijava. In this assignment, 
we start with programs in 
[miniRA](https://github.com/kayceesrk/cs3300_m22/tree/main/assets) 
format and translate them to 
[MIPS Assembly](https://github.com/kayceesrk/cs3300_m22/tree/main/assets).  

Use JTB and JavaCC and write in Java one or more visitors which 
translate miniRA programs to assembly form. 
Your main file should be called P5.java, 
if A.RA contains a program to be assembled then

```bash
$ javac P5.java
$ java P5 < A.miniRA > A.s
```

should create A.s in MIPS assembly form and is semantically equivalent to A.miniRA. 
Note, your program must take input from standard input 
and write to standard output (so that we can use redirection).

To check that a program is in miniRA form, you could use the [mips.jj](https://drive.google.com/file/d/16zTIe5YMit7XcQZD2VZ6Z2rcDGBrxzUV/view) to build a parser. 
To ensure that your generated .s program is semantically equivalent to the miniRA program, 
you can use the MIPS simulator available at [site](https://pages.cs.wisc.edu/~larus/spim.html)
to compare the output of A.miniRA with the output of the 
.s program generated by your code generator.


Note: Please do not alter the directory structure of `RollN0_P5`. 
Only edit `GJDepthFirst.java` and `P5.java`
## Resources

The source files are on
[Github](https://github.com/kayceesrk/cs3300_m22/tree/main/assignments/05_miniRA_to_mips).

Get the source by cloning the entire repo:

```bash
$ git clone https://github.com/kayceesrk/cs3300_m22
```

If you have already cloned the repo, you can get the latest updates by:

```bash
$ cd cs3300_m22 # go to the cloned repo
$ git pull
```

The miniRA grammar specification is 
[BNF-microIR](https://github.com/kayceesrk/cs3300_m22/tree/main/assets).

The mips grammar specification is 
[BNF-miniRA](https://github.com/kayceesrk/cs3300_m22/tree/main/assets).


## Submission

Rename the folder `RollN0_P5` with your roll number. For example, if your roll
number is `cs99b999`, then the folder should be named `cs99b999_P5`. Remove all
the `.class` files before submission. For example, you can do:

```bash
$ cd cs99b999_P5
$ find . -name "*.class" | xargs rm
```

Then produce the compressed gzip archive as follows:

```bash
$ tar cvzf cs99b999_P5.tar.gz cs99b999_P5
```

Submit the `.tar.gz` file. 

Note: You should thoroughly test your code. Some sample miniRA programs are provided for testing. Create positive and negative tests per feature and test your code before submission. Please ensure that there are no compilation errors. If there are compilation errors, that code will yield zero marks.
